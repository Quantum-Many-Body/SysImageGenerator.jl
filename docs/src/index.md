```@meta
CurrentModule = SysImageGenerator
```

# SysImageGenerator

*Generation of Julia sysimages of quantum-many-body packages.*

[Sysimages](https://julialang.github.io/PackageCompiler.jl/dev/sysimages.html) can be used to reduce the latency of Julia just-in-time (JIT) compilation during the first run of codes. Based on [PackageCompiler](https://github.com/JuliaLang/PackageCompiler.jl), this package could generate the appropriate sysimage of the packages maintained by the [Quantum Many Body Group](https://github.com/Quantum-Many-Body), such as [QuantumLattices](https://github.com/Quantum-Many-Body/QuantumLattices.jl), [ExactDiagonalization](https://github.com/Quantum-Many-Body/ExactDiagonalization.jl), [TightBindingApproximation](https://github.com/Quantum-Many-Body/TightBindingApproximation.jl), [SpinWaveTheory](https://github.com/Quantum-Many-Body/SpinWaveTheory.jl), etc., to significantly reduce their JIT compilation time. Moreover, the generated sysimage could also be installed as a new [jupyter notebook](https://jupyter.org/) kernel if you prefer [IJulia](https://github.com/JuliaLang/IJulia.jl).

## Installation

In Julia **v1.6+**, please type `]` in the REPL to use the package mode, then type this command:

```julia
pkg> add https://github.com/Quantum-Many-Body/SysImageGenerator.jl
```

## Generation of sysimage

The sysimage of quantum-many-body packages can be generated by the [`sysimage`](@ref) function exported by this package. The simplest way to achieve such a goal is to run the following codes either in a script or in the REPL:
```julia
using SysImageGenerator
sysimage()
```
The general usage of [`sysimage`](@ref) is as follows:
```julia
sysimage(name_of_the_generated_sysimage;
    packages=["subset of the supported quantum-many-body packages"],
    path="path to store the generated sysimage",
    plot=true, # if you want Plots to be included in your sysimage, otherwise false
    symbolic=true # if you want SymPy to be included in your sysimage, otherwise false
    )
```
Here,
* the default sysimage name is [`default_sysimage`](@ref),
* the supported quantum-many-body packages are [`supported_packages`](@ref), also by default, all packages will be included,
* and the default path to store the generated sysimage is `"path-to-SysImageGenerator-Package/sysimages/"`.

!!! note
    The generation of the sysimage may take a couple of minutes. Just wait for its completion.

## Install new Jupyter notebook kernel with the generated sysimage

After the generation of the sysimage of quantum-many-body packages, you can install a specific Jupyter notebook kernel that uses it by the [`installkernel`](@ref) function exported by this package:
```julia
using SysImageGenerator
installkernel(name_of_the_installed_kernel; # default value is "Julia-QuantumManyBody"
    sysimage="name of the generated sysimage",
    path="path of the generated sysimage"
)
```
The `sysimage` and `path` keyword arguments should be the same with those accepted by the [`sysimage`](@ref) function that generates the sysimage. The default arguments of these two functions are compatible. So if you generate a sysimage by
```julia
sysimage()
```
then you can simply install it by
```julia
installkernel()
```
accordingly.

## Manual

```@autodocs
Modules = [SysImageGenerator]
```
